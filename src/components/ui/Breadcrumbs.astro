---
const { items } = Astro.props;

const schema = {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    itemListElement: items.map((item: any, index: number) => ({
        "@type": "ListItem",
        position: index + 1,
        name: item.name,
        item: `https://alomda-sa.com${item.url}`,
    })),
};
---

<nav
    aria-label="Breadcrumb"
    class="py-4 px-4 bg-slate-50 border-b border-slate-200"
>
    <ol
        class="flex flex-wrap items-center gap-2 text-sm text-slate-600 container mx-auto"
    >
        {
            items.map((item: any, index: number) => (
                <li class="flex items-center">
                    {index > 0 && <span class="mx-2 text-slate-400">/</span>}
                    {index === items.length - 1 ? (
                        <span
                            class="font-bold text-emerald-700"
                            aria-current="page"
                        >
                            {item.name}
                        </span>
                    ) : (
                        <a
                            href={item.url}
                            class="hover:text-amber-500 transition-colors"
                        >
                            {item.name}
                        </a>
                    )}
                </li>
            ))
        }
    </ol>
    <script type="application/ld+json" set:html={JSON.stringify(schema)} />
</nav>
