---
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";
import { Phone } from "lucide-react";
import { SITE_CONFIG } from "../../data/site-config";

interface Props {
  src: string | ImageMetadata;
  alt: string;
  class?: string;
}

const { src, alt, class: className } = Astro.props;
---

<div class={`relative overflow-hidden group rounded-xl ${className}`}>
  <!-- The Image -->
  {
    typeof src === "string" ? (
      <img
        src={src}
        alt={alt}
        loading="lazy"
        decoding="async"
        class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
      />
    ) : (
      <Image
        src={src}
        alt={alt}
        class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
        format="webp"
      />
    )
  }

  <!-- The Gradient Overlay (For text readability) -->
  <div
    class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-80"
  >
  </div>

  <!-- The Watermark (Bottom Left) -->
  <div class="absolute bottom-4 left-4 text-white z-10">
    <div class="flex items-center gap-2 mb-1">
      <div class="bg-emerald-600 p-1 rounded-full">
        <Phone className="w-3 h-3" />
      </div>
      <span class="font-bold text-sm tracking-widest font-mono" dir="ltr"
        >{SITE_CONFIG.phone}</span
      >
    </div>
    <div
      class="text-[10px] text-gray-300 opacity-80 uppercase tracking-widest font-sans"
    >
      elomda-sa.com
    </div>
  </div>

  <!-- The Brand Logo Mark (Top Right) -->
  <div
    class="absolute top-4 right-4 bg-white/10 backdrop-blur-md px-3 py-1 rounded-full border border-white/20"
  >
    <span class="text-white font-bold text-xs">العمدة</span>
  </div>
</div>
