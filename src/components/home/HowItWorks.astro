---
import Container from '../ui/Container.astro';
import { Phone, Search, Banknote, Truck } from 'lucide-react';

const steps = [
  {
    icon: Phone,
    title: 'تواصل معنا',
    description: 'بمجرد اتصالك، نطلب منك إرسال صور واضحة عبر الواتساب لتوفير وقتك.'
  },
  {
    icon: Search,
    title: 'المعاينة والاتفاق',
    description: 'نرسل لك عرض سعر مبدئي فوراً. إذا ناسبك، يتحرك المندوب للمعاينة النهائية.'
  },
  {
    icon: Banknote,
    title: 'استلم فلوسك',
    description: 'يتم دفع المبلغ كاملاً كاش أو تحويل بنكي فوري قبل أن يلمس العمال قطعة اثاث واحدة.'
  },
  {
    icon: Truck,
    title: 'الفك والنقل',
    description: 'يقوم عمالنا بفك ونقل الاثاث فوراً دون أي تكلفة إضافية عليك.'
  }
];
---

<section class="bg-white py-20 overflow-hidden">
  <Container>
    <div class="mb-16 text-center max-w-3xl mx-auto">
      <h2 class="text-3xl font-bold text-slate-900 sm:text-4xl mb-4">كيف نحدد سعر الاثاث المستعمل؟</h2>
      <p class="text-lg text-slate-600">عملية بيع واضحة وشفافة في 4 خطوات بسيطة</p>
    </div>

    <div class="relative">
      {/* Connector Line (Desktop) */}
      <div class="absolute top-10 left-0 hidden lg:block w-full h-1 bg-slate-100 -z-10">
        <div class="h-full bg-emerald-100 w-full origin-right scale-x-0 animate-[growLine_1s_ease-out_forwards]"></div>
      </div>

      <div class="grid gap-12 lg:grid-cols-4">
        {steps.map((step, index) => (
          <div class="relative flex flex-col items-center text-center bg-white p-4 group">
            <div class="mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-emerald-600 text-white shadow-lg shadow-emerald-200 z-10 border-4 border-white transition-transform duration-300 group-hover:scale-110 group-hover:bg-emerald-700">
              <step.icon className="h-9 w-9" />
            </div>
            <h3 class="mb-3 text-xl font-bold text-slate-900 group-hover:text-emerald-700 transition-colors">
              <span class="ml-2 text-emerald-200 font-black text-2xl absolute -top-4 right-1/2 translate-x-1/2 opacity-20 select-none">{index + 1}</span>
              {step.title}
            </h3>
            <p class="text-slate-600 leading-relaxed text-sm">{step.description}</p>
          </div>
        ))}
      </div>
    </div>
  </Container>
</section>

<style>
  @keyframes growLine {
    from { transform: scaleX(0); }
    to { transform: scaleX(1); }
  }
</style>
